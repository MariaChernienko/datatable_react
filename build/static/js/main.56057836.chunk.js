(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(29)},26:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),i=n(31),u=n(11),l=n.n(u),s=n(16),m=n(14),f=n(4),p=n(5),d=n(7),h=n(6),g=n(8),b=n(30),v=n(15),E=a.a.createContext(function(){}),y=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).createBtns=function(e){for(var t=[],r=function(e){t.push(a.a.createElement("span",{key:e},a.a.createElement("button",{onClick:function(t){return n.props.onPageChanged(t,e)}},e)))},o=1;o<=e;o++)r(o);return t},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.totalRecords,n=e.perPage,r=Math.ceil(t/10)/n*10;return a.a.createElement("div",{className:"Pagination"},this.createBtns(r))}}]),t}(a.a.Component),C=function(e){var t=e.config,n=e.handleHeaderClick;return a.a.createElement("thead",null,a.a.createElement("tr",null,Object.entries(t).map(function(e){var r=Object(v.a)(e,2),o=r[0],c=r[1];return a.a.createElement("th",{key:o,className:t[o].isSortable?"sortable-column":"",onClick:function(){return n(o)}},c.title)})))},k=function(e){var t=e.item,n=e.column,r=e.render;return a.a.createElement(E.Consumer,null,function(e){return a.a.createElement("td",{onKeyPress:function(n){return e(n,t)}},r?r(t):t[n])})},j=function(e){var t=e.item,n=e.config;return a.a.createElement("tr",null,Object.keys(n).map(function(e){return a.a.createElement(k,{key:e,item:t,column:e,render:n[e].render})}))},O=function(e){var t=e.items,n=e.config;return a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement(j,{key:e.name,item:e,config:n})}))},w=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={sortColumn:null,sortAsc:!0,query:"",currentPeople:[],perPage:10},n.handleInputChange=function(e){n.setState({query:e.target.value})},n.handleHeaderClick=function(e){n.props.config[e].isSortable&&n.setState(function(t){var n=t.sortColumn,r=t.sortAsc;return{sortColumn:e,sortAsc:n!==e||!r}})},n.handleItemInput=function(e,t){n.props.items[t.id].note=e.target.value,"Enter"===e.key&&e.target.blur()},n.getSortedItems=function(){var e=n.state,t=e.sortColumn,r=e.sortAsc,a=e.query,o=n.props.items;if(!t)return o.filter(function(e){return e.name.toLowerCase().indexOf(a.toLowerCase())>-1});var c=r?1:-1,i="number"===typeof o[0][t]?function(e,n){return c*(e[t]-n[t])}:function(e,n){return c*e[t].localeCompare(n[t])};return o.sort(i).filter(function(e){return e.name.toLowerCase().indexOf(a.toLowerCase())>-1})},n.onPageChanged=function(e,t){console.log(e,t);var r=n.props.items,a=n.state.perPage;return console.log(r.filter(function(e){return e.id>t*a})),r.filter(function(e){return e.id>t*a})},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.config,n=this.state.perPage,r=this.getSortedItems(),o=r.length;return a.a.createElement("div",{className:"Table"},a.a.createElement("input",{onChange:function(t){return e.handleInputChange(t)}}),a.a.createElement("table",null,a.a.createElement(C,{config:t,handleHeaderClick:this.handleHeaderClick}),a.a.createElement(E.Provider,{value:this.handleItemInput},a.a.createElement(O,{items:r,config:t}))),a.a.createElement(y,{totalRecords:o,perPage:n,onPageChanged:this.onPageChanged}))}}]),t}(a.a.Component),P=(n(26),{checkbox:{title:"",render:function(){return a.a.createElement("input",{type:"checkbox"})}},name:{title:"\u0418\u043c\u044f",isSortable:!0,isSearchable:!0,render:function(e){return a.a.createElement(b.a,{to:"/people/".concat(e.name)},e.name)}},born:{title:"\u0413\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",isSortable:!0},age:{title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",render:function(e){return e.died-e.born}},sex:{title:"\u041f\u043e\u043b"},note:{title:"\u0417\u0430\u043c\u0435\u0442\u043a\u0430",render:function(e){return a.a.createElement("input",{defaultValue:e.note})}}}),x=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={people:[],config:P},n}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/fe-program/js/tasks/people/people.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({people:n.map(function(e,t){return Object(s.a)({},e,{id:t})})});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.people,n=e.config;return a.a.createElement("div",{className:"App"},a.a.createElement(w,{items:t,config:n}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{basename:"/datatable_react/build"},a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.56057836.chunk.js.map